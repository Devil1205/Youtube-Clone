<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube</title>
    <link rel="stylesheet" href="common/common.css">
    <link rel="stylesheet" href="style/style.css">
    <link rel="icon" href="images/websitelogo.png" type="image/icon type">

</head>

<body>
    <header>
        <div class="navbar">
            <div class="leftbar">
                <div class="navlogo" style="position: sticky; top: 0px;background-color: white;padding-top: 10px;">
                    <div class="hamburger" id="hamvis">
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <a href=""><img src="images/logo.png" alt=""></a>
                </div>
                <a href="" class="navigation-a">
                    <div class="navigation">Home</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Explore</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Shorts</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Subscriptions</div>
                </a>
                <div class="thinline">

                </div>
                <a href="" class="navigation-a">
                    <div class="navigation">Library</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">History</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Your videos</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Watch later</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Liked videos</div>
                </a>
                <div class="thinline">

                </div>
                <div class="lefthead">BEST OF YOUTUBE</div>
                <a href="" class="navigation-a">
                    <div class="navigation">Music</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Sports</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Gaming</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Movies</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">News</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Live</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Fashion & Beauty</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Learning</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Spotlight</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">360&deg; Video</div>
                </a>
                <div class="thinline">

                </div>
                <a href="" class="navigation-a">
                    <div class="navigation">Browse Channels</div>
                </a>
                <div class="thinline">

                </div>
                <div class="lefthead">MORE FROM YOUTUBE</div>
                <a href="" class="navigation-a">
                    <div class="navigation">Youtube Premium</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Live</div>
                </a>
                <div class="thinline">

                </div>
                <a href="" class="navigation-a">
                    <div class="navigation">Settings</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Report history</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Help</div>
                </a>
                <a href="" class="navigation-a">
                    <div class="navigation">Send feedback</div>
                </a>
                <div class="thinline">

                </div>
                <div class="copyright lefthead">
                    <a href="">About </a>
                    <a href="">Press </a>
                    <a href="">Copyright </a>
                    <a href="">Contact us </a>
                    <a href="">Creators </a>
                    <a href="">Advertise </a>
                    <a href="">Developers </a>
                </div>
                <div class="copyright lefthead">
                    <a href="">Terms </a>
                    <a href="">Privacy </a>
                    <a href="">Policy & Safety </a>
                    <a href="">How YouTube works </a>
                    <a href="">Test new features </a>
                </div>
                <div class="googlellc lefthead">
                    &copy; 2022 Google LLC
                </div>
            </div>
            <div class="leftbar right"></div>
            <nav>
                <div class="hamburger" id="hamhid" style="margin: 0px 30px">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
                <a href="" class="logo">
                    <img src="images/logo.png" alt="">
                </a>
                <div class="search">
                    <input type="text" placeholder="Search"><button class="btn cursor-pointer flex-col-center"
                        type="submit"><img src="images/search.png" alt="">
                        <div class="hoverdesc">Search</div>
                    </button>
                    <button class="voicebtn btn cursor-pointer flex-col-center" type="submit"><img
                            src="images/voice.png" alt="">
                        <div class="hoverdesc">Search with your voice</div>
                    </button>
                </div>
                <div class="others">
                    <a href="" class="moreapps flex-col-center"><img src="images/grid.png" alt="">
                        <div class="hoverdesc">YouTube apps</div>
                    </a>
                    <a href="" class="flex-col-center"><img src="images/dots.png" alt="">
                        <div class="hoverdesc">Settings</div>
                    </a>
                    <a href="login.html" class="signin"><img src="images/sign.png" alt=""
                            style="width: 120px;height: 49px"></a>
                    <button type="button" class="btn" id="themebtn">Lights Off</button>
                </div>
            </nav>
        </div>
        <div class="genre">
            <nav>
                <a href="" class="a-style">
                    <div class="genre-item">All</div>
                </a>
                <a href="" class="a-style">
                    <div class="genre-item">Live</div>
                </a>
                <a href="" class="a-style">
                    <div class="genre-item">Music</div>
                </a>
                <a href="" class="a-style">
                    <div class="genre-item">Comedy</div>
                </a>
                <a href="" class="a-style">
                    <div class="genre-item">Bollywood Music</div>
                </a>
                <a href="" class="a-style">
                    <div class="genre-item">CID</div>
                </a>
                <a href="" class="a-style">
                    <div class="genre-item">Gaming</div>
                </a>
                <a href="" class="a-style">
                    <div class="genre-item">Trailers</div>
                </a>
                <a href="" class="a-style">
                    <div class="genre-item">Melodies</div>
                </a>
                <a href="" class="a-style">
                    <div class="genre-item">Gadgets</div>
                </a>
                <a href="" class="a-style">
                    <div class="genre-item">Cooking shows</div>
                </a>
            </nav>
        </div>
    </header>
    <main>
        <!-- <div class="banner"><img src="images/banner.png" alt="">
            <a href="" class="getnow  a-style"><div>GET IT NOW</div></a>
            <a href="" class="cross"><div ><img src="images/cross.png" alt=""></div></a>
        </div> -->
        <div class="container">
            <div class="heading">Most Popular Videos</div>
            <div class="hline"></div>
            <div class="grid">
        </div>
            </div>
        </div>
    </main>
    <footer></footer>
    <script>
        let hammenuvis = document.getElementById('hamvis');
        let hammenuhid = document.getElementById('hamhid');
        let leftmenu = document.getElementsByClassName('leftbar');
        let rightmenu = document.getElementsByClassName('right');
        let con = document.getElementsByTagName('body');
        let themebtn = document.getElementById('themebtn');
        let temp;
        hammenuvis.addEventListener("click", function () {
            leftmenu[0].style.display = 'none';
            rightmenu[0].style.display = 'none';
            con[0].style.overflow = "visible";
        });
        hammenuhid.addEventListener("click", function () {
            leftmenu[0].style.display = 'flex';
            rightmenu[0].style.display = 'flex';
            // container.style.height="calc(100vh - 70px)";
            con[0].style.overflow = "hidden";
        });
        let black = false;
        themebtn.addEventListener("click", function () {
            black = !black;
            if (black == true) {
                document.getElementById('themebtn').style.backgroundColor = "var(--darknavbar)";
                document.getElementById('themebtn').style.color = "var(--white)";
                document.getElementById('themebtn').innerText = "Lights On";
                document.querySelector('.leftbar').style.backgroundColor = "var(--darkleftbar)";
                document.querySelector('.container').style.backgroundColor = "var(--darkmain)";
                document.querySelector('.navbar nav').style.backgroundColor = "var(--darknavbar)";
                temp = document.querySelectorAll('.leftbar a');
                for (let i = 0; i < temp.length - 12; i++) {
                    temp[i].style.color = "var(--white)";
                }
                document.querySelector('.search input').style.backgroundColor = "var(--darksearch)";
                document.querySelector('.navlogo').style.backgroundColor = "var(--darknavbar)";
                document.querySelector('.logo').style.backgroundColor = "var(--darknavbar)";
                document.querySelector('.others').style.backgroundColor = "var(--darknavbar)";
                document.querySelector('.genre').style.backgroundColor = "var(--darknavbar)";
                document.querySelector('.genre').style.borderColor = "var(--darkborder)";
                temp = document.querySelectorAll('.genre nav a');
                for (let i = 0; i < 11; i++) {
                    temp[i].style.color = "var(--white)";
                    temp[i].style.backgroundColor = "var(--darkgenrec)";
                }
                temp = document.querySelectorAll('.channel');
                for (let i = 0; i < temp.length; i++) {
                    temp[i].style.color = "var(--white)";
                    document.querySelectorAll('.oneitem')[i].style.backgroundColor = "var(--darkmain)";
                }
            }
            else {
                document.getElementById('themebtn').style.color = "var(--black)";
                document.getElementById('themebtn').innerText = "Lights Off";
                document.getElementById('themebtn').style.backgroundColor = "";
                document.querySelector('.leftbar').style.backgroundColor = "var(--white)";
                document.querySelector('.container').style.backgroundColor = "var(--lightmain)";
                document.querySelector('.navbar nav').style.backgroundColor = "var(--white)";
                temp = document.querySelectorAll('.leftbar a');
                for (let i = 0; i < temp.length - 12; i++) {
                    temp[i].style.color = "var(--black)";
                }
                document.querySelector('.search input').style.backgroundColor = "var(--white)";
                document.querySelector('.navlogo').style.backgroundColor = "var(--white)";
                document.querySelector('.logo').style.backgroundColor = "var(--white)";
                document.querySelector('.others').style.backgroundColor = "var(--white)";
                document.querySelector('.genre').style.backgroundColor = "var(--white)";
                document.querySelector('.genre').style.borderColor = "lightgray";
                temp = document.querySelectorAll('.genre nav a');
                for (let i = 0; i < 11; i++) {
                    temp[i].style.color = "var(--black)";
                    temp[i].style.backgroundColor = "";
                }
                temp = document.querySelectorAll('.channel');
                for (let i = 0; i < temp.length; i++) {
                    temp[i].style.color = "var(--black)";
                    document.querySelectorAll('.oneitem')[i].style.backgroundColor = "var(--white)";
                }
            }
        });

        function convertToInternationalCurrencySystem(labelValue) {

            // Nine Zeroes for Billions
            return Math.abs(Number(labelValue)) >= 1.0e+9

                ? (Math.abs(Number(labelValue)) / 1.0e+9).toFixed(2) + "B"
                // Six Zeroes for Millions 
                : Math.abs(Number(labelValue)) >= 1.0e+6

                    ? (Math.abs(Number(labelValue)) / 1.0e+6).toFixed(2) + "M"
                    // Three Zeroes for Thousands
                    : Math.abs(Number(labelValue)) >= 1.0e+3

                        ? (Math.abs(Number(labelValue)) / 1.0e+3).toFixed(2) + "K"

                        : Math.abs(Number(labelValue));

        }

        let it = document.querySelector('.grid');
        let data = async () => {
            let ytData = await fetch('https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&chart=mostPopular&maxResults=20&regionCode=IN&key=AIzaSyCdi_IaL1OkhwTcGOoMmChM4r9vVLrkVl0');
            let ytDataFetch = await ytData.json();
            ytDataFetch.items.forEach(element => {
                let temp = document.createElement("div");
                it.append(temp);
                temp.innerHTML = `<a class="a-style" href="https://www.youtube.com/watch?v=${element.id}"><div class="oneitem">
                    <img src=${element.snippet.thumbnails.high.url}
                        alt="" width="250px">
                    <div class="channel flex-center">
                        <a href='https://www.youtube.com/@${element.snippet.channelTitle.replace(/ /g,"")}'><img src=${element.snippet.thumbnails.high.url}
                            alt=""></a>
                        <div>${element.snippet.title}</div>
                    </div>
                    <div class="views">
                        <div>${element.snippet.channelTitle}</div>
                        <div>${convertToInternationalCurrencySystem(element.statistics.viewCount)} views  <span class="dot"></span>  ${element.snippet.publishedAt.slice(0,10)}</div>
                    </div>
                </div>
                </a>`
            });
            console.log(ytDataFetch.items);
        }
        data();
    </script>
</body>

</html>